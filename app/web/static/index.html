<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HRReporter</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="bg-shape bg-a"></div>
    <div class="bg-shape bg-b"></div>

    <header class="topbar">
      <div>
        <h1>HRReporter</h1>
        <p>Scale-aware HR risk scan with evidence-grounded findings.</p>
      </div>
      <div id="config-badges" class="badge-row"></div>
    </header>

    <main class="layout">
      <section class="panel input-panel">
        <h2>Inputs</h2>
        <p class="muted">Paste context, drop files, and add company URLs.</p>

        <form id="analysis-form" class="form-stack">
          <label for="text">Pasted Text</label>
          <textarea id="text" name="text" rows="8" placeholder="Paste notes, interview output, HR docs, or internal context..."></textarea>

          <label for="urls">URLs</label>
          <textarea id="urls" name="urls" rows="5" placeholder="https://example.com/people-policy&#10;https://example.com/benefits"></textarea>

          <div class="drop-grid">
            <div id="file-drop" class="dropzone">
              <h3>Files</h3>
              <p>Drag/drop .txt .md .pdf .docx</p>
              <button id="browse-btn" type="button">Browse files</button>
              <input id="files" name="files" type="file" multiple hidden />
            </div>
          </div>

          <div id="file-list" class="file-list"></div>

          <div class="action-row">
            <button id="submit-btn" type="submit" class="primary">Run Assessment</button>
            <button id="clear-btn" type="button" class="ghost">Reset</button>
          </div>
        </form>
      </section>

      <section class="panel results-panel">
        <h2>Analysis</h2>
        <div id="status" class="status"></div>

        <div class="progress-wrap" id="progress-wrap" hidden>
          <div class="progress-bar"><span id="progress-fill"></span></div>
          <ul id="progress-steps" class="progress-steps">
            <li data-step="ingest">Ingest + chunk</li>
            <li data-step="route">Route + retrieve</li>
            <li data-step="synthesize">Synthesize findings</li>
            <li data-step="render">Render report</li>
          </ul>
        </div>

        <div id="output-panel" hidden>
          <div id="meta" class="meta"></div>

          <div class="report-shell">
            <div class="report-header">
              <h3>Report</h3>
              <p class="muted">Formatted markdown output.</p>
            </div>
            <article id="report-preview" class="markdown-view"></article>
          </div>
          <div class="action-row">
            <button id="copy-md" type="button" class="ghost">Copy Markdown</button>
            <button id="download-json" type="button" class="ghost">Download JSON</button>
            <button id="download-docx" type="button" class="ghost">Download Word (.docx)</button>
            <button id="download-pdf" type="button" class="ghost">Download PDF</button>
          </div>
        </div>
      </section>
    </main>

    <script src="/app.js" defer></script>
  </body>
</html>
